{"ast":null,"code":"var _jsxFileName = \"H:\\\\spotify\\\\src\\\\util\\\\Tracks.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URI = 'https://spotify-api-wrapper.appspot.com';\n\nconst timer = function (s) {\n  var ms = Number(s) % 1000;\n  s = (s - ms) / 1000;\n  var sec = s % 60;\n  s = (s - sec) / 60;\n  var min = s % 60;\n  var hrs = (s - min) / 60;\n  return `${hrs}h : ${min}m : ${sec}s`;\n};\n\nclass Tracks extends Component {\n  constructor(props) {\n    super(props);\n\n    this.playAudio = url => {\n      const audio = new Audio(url);\n\n      if (!this.state.playing) {\n        audio.play();\n        this.setState({\n          playing: true,\n          audio,\n          playPreviewUrl: url\n        });\n      } else {\n        this.state.audio.pause();\n\n        if (this.state.playPreviewUrl === url) {\n          this.setState({\n            playing: false\n          });\n        } else {\n          audio.play();\n          this.setState({\n            audio,\n            playPreviewUrl: url\n          });\n        }\n      }\n    };\n\n    this.trackIcon = url => {\n      if (!url) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-danger\",\n          children: \"No Tracks available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 20\n        }, this);\n      }\n\n      if (this.state.playing && this.state.playPreviewUrl === url) {\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-info\",\n          children: \"Pause\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 20\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-sm btn-success\",\n        children: \"Play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 16\n      }, this);\n    };\n\n    this.state = {\n      id: this.props.match.params.id,\n      tracks: [],\n      playing: false,\n      audio: null,\n      playPreviewUrl: null\n    };\n    this.playAudio = this.playAudio.bind(this);\n  } // react life cycle hook method\n\n\n  componentDidMount() {\n    axios.get(`${API_URI}/artist/${this.state.id}/top-tracks`).then(res => {\n      console.log('tracks : ', res);\n\n      if (res.status === 200) {\n        this.setState({\n          tracks: res.data.tracks\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  } // Play and pause of audio\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"display-3\",\n            children: \"Tracks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: this.state.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: this.state.tracks.map((item, key) => {\n          const {\n            album,\n            name,\n            duration_ms,\n            preview_url\n          } = item;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 mb-2 mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              onClick: this.playAudio.bind(this, preview_url),\n              style: {\n                cursor: 'pointer'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: album.images[0].url,\n                alt: name,\n                className: \"card-image-top\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-center text-success\",\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"list-group-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Duration\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"float-end\",\n                      children: timer(duration_ms)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-footer\",\n                children: this.trackIcon(preview_url)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 33\n            }, this)\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Tracks;","map":{"version":3,"sources":["H:/spotify/src/util/Tracks.js"],"names":["React","Component","axios","API_URI","timer","s","ms","Number","sec","min","hrs","Tracks","constructor","props","playAudio","url","audio","Audio","state","playing","play","setState","playPreviewUrl","pause","trackIcon","id","match","params","tracks","bind","componentDidMount","get","then","res","console","log","status","data","catch","err","render","map","item","key","album","name","duration_ms","preview_url","cursor","images"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_URI = 'https://spotify-api-wrapper.appspot.com';\r\n\r\nconst timer = function(s)\r\n{\r\n    var ms = Number(s)%1000;\r\n       s =(s-ms)/1000;\r\n    var sec = s%60;\r\n       s =(s-sec)/60;\r\n    var min = s%60;\r\n    var hrs = (s - min) / 60;\r\n    return `${hrs}h : ${min}m : ${sec}s`;\r\n    \r\n};\r\nclass Tracks extends Component {\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state={\r\n            id:this.props.match.params.id,\r\n            tracks:[],\r\n            playing:false,\r\n            audio:null,\r\n            playPreviewUrl:null\r\n        };\r\n        this.playAudio =this.playAudio.bind(this);\r\n    }\r\n\r\n    // react life cycle hook method\r\n    componentDidMount()\r\n    {\r\n        axios.get(`${API_URI}/artist/${this.state.id}/top-tracks`)\r\n        .then(res=>{\r\n            console.log('tracks : ',res);\r\n            if(res.status === 200)\r\n            {\r\n                this.setState(\r\n                {\r\n                    tracks:res.data.tracks\r\n                })\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    // Play and pause of audio\r\n\r\n    playAudio=(url) =>\r\n    {\r\n        const audio = new Audio(url);\r\n        if(!this.state.playing)\r\n        {\r\n            audio.play();\r\n            this.setState({playing:true,audio,playPreviewUrl:url});\r\n        }\r\n        else\r\n        {\r\n            this.state.audio.pause();\r\n            if(this.state.playPreviewUrl === url)\r\n            {\r\n                this.setState({playing:false});\r\n            }\r\n            else\r\n            {\r\n                audio.play();\r\n                this.setState({audio,playPreviewUrl:url});\r\n            }\r\n        }\r\n    }\r\n\r\n    // Track Icons\r\n\r\n    trackIcon = (url) =>\r\n    {\r\n        if(!url)\r\n        {\r\n            return <span className=\"text-danger\">No Tracks available</span>\r\n        }\r\n        if(this.state.playing && this.state.playPreviewUrl === url)\r\n        {\r\n            return <button className=\"btn btn-sm btn-info\">Pause</button>\r\n        }\r\n        return <button className=\"btn btn-sm btn-success\">Play</button>\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12 text-center\">\r\n                        <h3 className=\"display-3\">Tracks</h3>\r\n                        <p className=\"text-muted\">{this.state.id}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                {\r\n                    this.state.tracks.map((item,key) =>{\r\n                        const {album,name,duration_ms,preview_url} = item;\r\n                        return(\r\n                            <div className=\"col-md-4 mb-2 mt-2\" key={key}>\r\n                                <div className=\"card\" onClick={this.playAudio.bind(this,preview_url)}style={{cursor:'pointer'}}>\r\n                                    <img src={album.images[0].url} alt={name} className=\"card-image-top\"></img>\r\n                                    <div className=\"card-body\">\r\n                                        <h5 className=\"text-center text-success\">{name}</h5>\r\n                                        <ul className=\"list-group\">\r\n                                            <li className=\"list-group-item\">\r\n                                                <strong>Duration</strong>\r\n                                                <span className=\"float-end\">{timer(duration_ms)}</span>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                    <div className=\"card-footer\">{this.trackIcon(preview_url)}</div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tracks;\r\n"]},"metadata":{},"sourceType":"module"}